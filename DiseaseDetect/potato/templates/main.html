{% extends 'base.html' %}

{% block content %}
{% load static %}

{% block css %}
<link rel='stylesheet'
    href='https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.3/jquery.mCustomScrollbar.min.css'>
{% endblock %}
<div>
    <img class="bg-left" src="{% static 'images/bg-left.png' %}" alt="image">
    <img class="bg-right" src="{% static 'images/bg-right.png' %}" alt="image">
    <div class="container">
        <div class="contents">
            <h1 class="contents-heading gsap" id="in-con">Welcome To <strong>Leafy</strong></h1>
            <p class="contents-para gsap" id="in-con">
                Leafy is a ML(Machine Learning) based plant management
                system. It is capable of detecting plant diseases and also
                has a forum where users can ask questions on different topics.
                <!-- <a href='/chat/'>Chatbot</a> -->
            </p>
            <h3 id="in-con" class="gsap">Click DETECT to go to the image detection system and QnA to view
                discussions.</h3>
            <div class="buttons">
                <a href="{% url 'user-detection' %}" class="detect_btn gsap1">Detect<i
                        class="fas fa-arrow-right"></i></a>
                <a href="{% url 'faq-home' %}" id="in-con" class="ex gsap1">QnA<i
                        class="fas fa-arrow-right d-left"></i></a>
            </div>
        </div>

        <div class="chat">
            <div class="chat-title">
                <div class="chat-title-wrap">
                    <figure class="avatar">
                        <img src="{% static 'images/robot only.svg' %}" />
                    </figure>
                    <div>
                        <h1>Leafy Bot</h1>
                        <h2>I am a virtual agent. . .</h2>
                    </div>
                </div>
                <div class="close-chat" onclick="hideChat()"><i class="fas fa-times"></i></div>
            </div>
            <div class="messages">
                <div class="messages-content"></div>
            </div>
            <form class="message-box" id="mymsg" method="POST" autocomplete="off">
                {% csrf_token %}
                <input type="text" id="MSG" name="MSG" class="message-input" placeholder="Start a chat . . .">
                <button type="submit" class="message-submit">
                    <div class="send-chat"><img src="{% static 'images/send.png' %}" alt="send"></div>
                </button>
            </form>
            <h3 class="no-browser-support" hidden>Sorry, Your Browser Doesn't Support the Web Speech API. Try Opening in
                Google
                Chrome.</h3>
        </div>

        <div class="chat-overlay" onclick="hideChat()"></div>

        <div class="robot-img" onclick="showChat()">
            <div class="chat-tooltip">Tap me to chat</div>
            <svg class="robot" id="robot" width="100%" height="100%" viewBox="0 0 636 861" version="1.1"
                xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve"
                xmlns:serif="http://www.serif.com/"
                style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
                <path
                    d="M312.472,0.002l0,860.621l0.22,0c188.079,0 299.756,-357.372 299.756,-457.447c0,-214.819 -24.33,-403.176 -298.969,-403.176l-1.007,0.002Z"
                    style="fill:#424242;" />
                <path
                    d="M316.116,0.002l0,860.621l-0.22,0c-188.078,0 -299.755,-357.372 -299.755,-457.447c0,-214.819 24.329,-403.176 298.969,-403.176l1.006,0.002Z"
                    style="fill:#616161;" />
                <path
                    d="M21.228,318.626c14.12,-0.95 27.738,30.272 30.391,69.68c2.653,39.408 -6.657,72.174 -20.777,73.125c-14.12,0.95 -27.737,-30.272 -30.39,-69.68c-2.653,-39.408 6.656,-72.174 20.776,-73.125Z"
                    style="fill:#212121;" />
                <path
                    d="M613.787,318.626c-14.12,-0.95 -27.738,30.272 -30.391,69.68c-2.653,39.408 6.657,72.174 20.777,73.125c14.12,0.95 27.737,-30.272 30.39,-69.68c2.653,-39.408 -6.656,-72.174 -20.776,-73.125Z"
                    style="fill:#212121;" />
                <path
                    d="M15.81,355.52c6.824,-0.46 13.406,14.63 14.688,33.676c1.282,19.046 -3.217,34.882 -10.042,35.342c-6.824,0.459 -13.405,-14.631 -14.687,-33.677c-1.283,-19.046 3.217,-34.882 10.041,-35.341Z"
                    style="fill:#64dd17;" />
                <path
                    d="M619.205,355.52c-6.824,-0.46 -13.406,14.63 -14.688,33.676c-1.282,19.046 3.217,34.882 10.041,35.342c6.825,0.459 13.406,-14.631 14.688,-33.677c1.282,-19.046 -3.217,-34.882 -10.041,-35.341Z"
                    style="fill:#64dd17;" />
                <circle cx="198.598" cy="217.195" r="47.175" style="fill:#212121;" />
                <circle cx="433.634" cy="217.195" r="47.175" style="fill:#212121;" />
                <circle cx="198.598" cy="217.195" r="26.347" style="fill:#64dd17;" />
                <circle cx="433.634" cy="217.195" r="26.347" style="fill:#64dd17;" />
                <circle cx="177.49" cy="196.747" r="16.012" style="fill:#fff;" />
                <circle cx="414.139" cy="198.998" r="16.012" style="fill:#fff;" />
                <circle cx="224.945" cy="241.607" r="7.547" style="fill:#fff;" />
                <circle cx="461.594" cy="243.858" r="7.547" style="fill:#fff;" />
                <circle cx="80.871" cy="423.707" r="6.604" style="fill:#64dd17;" />
                <circle cx="553.092" cy="423.707" r="6.604" style="fill:#64dd17;" />
                <circle cx="104.744" cy="416.64" r="6.604" style="fill:#64dd17;" />
                <circle cx="529.22" cy="416.64" r="6.604" style="fill:#64dd17;" />
                <circle cx="128.773" cy="410.498" r="6.604" style="fill:#64dd17;" />
                <circle cx="505.19" cy="410.498" r="6.604" style="fill:#64dd17;" />
                <path
                    d="M333.961,417.465c0,-9.848 -7.996,-17.844 -17.845,-17.844c-9.849,0 -17.845,7.996 -17.845,17.844l0,267.343c0,9.848 7.996,17.844 17.845,17.844c9.849,0 17.845,-7.996 17.845,-17.844l0,-267.343Z"
                    style="fill:#64dd17;" />
            </svg>
            <img id="robot" class="robot-shadow" src="{% static 'images/robot-shadow.png' %}" alt="robot shadow">
        </div>
    </div>
</div>
{% endblock %}


{% block script %}
<script src="{% static 'js/main.js' %}"></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script
    src='https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.3/jquery.mCustomScrollbar.concat.min.js'>
</script>
<script type="text/javascript">
    var bot = "{% static 'images/robot.svg' %}"
    var human = "{% static 'images/avatar2.jpeg' %}"
  </script>
<script src="{% static 'js/chatbot.js' %}"></script>
{% endblock %}